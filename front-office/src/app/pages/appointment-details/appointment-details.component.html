<div class="pink-bg mt-top mb-4">
    <div class="container">
        <div class="row justify-content-center text-center p-20">
            <h3>Details de votre rendez-vous</h3>
        </div>
    </div>
</div>

<main class="profile-page mb-8" *ngIf="appointment">
  <section class="section p-0">
    <div class="container">
        <div class="px-4">

          <div class="mb-6">
            <div class="mb-4">
              <h4>Informations générales</h4>
            </div>
              <table class="general-info-table">
                  <tr>
                      <th>Date du rendez-vous</th>
                      <td>{{ appointment.appointmentDate | date: 'dd MMMM yyyy à hh:mm' }}</td>
                  </tr>
                  <tr>
                      <th>Statut</th>
                      <td>
                          <span class="badge {{getStatusBadge(appointment.status)}}">{{appointment.status | appointmentStatus}}</span>
                      </td>
                  </tr>
                  <tr>
                      <th>Prix total</th>
                      <td>{{appointment.estimatedPrice | number: "4.0-0"}} MGA</td>
                  </tr>
                  <tr>
                      <th>Durée estimée</th>
                      <td>{{appointment.estimatedDuration | duration: "m":"m"}}</td>
                  </tr>
              </table>
          </div>


          <div class="mb-6">
            <div class="mb-4">
              <h4>Services</h4>
            </div>
            <div>

              <table
                    class="general-info-table"
                  mat-table
                  [dataSource]="appointment.elements">
                <ng-container matColumnDef="service">
                  <th mat-header-cell *matHeaderCellDef>
                    <span class="font-bold">
                      Service
                    </span>
                  </th>
                  <td mat-cell *matCellDef="let details">{{details.service.name}}</td>
                </ng-container>
                <ng-container matColumnDef="employee">
                  <th mat-header-cell *matHeaderCellDef>
                    <span class="font-bold">
                      Employé assigné
                    </span>
                  </th>
                  <td mat-cell *matCellDef="let details">{{details.employee.name}}</td>
                </ng-container>
                <ng-container matColumnDef="duration">
                  <th mat-header-cell *matHeaderCellDef>
                    <span class="font-bold">
                      Durée
                    </span>
                  </th>
                  <td mat-cell *matCellDef="let details">{{details.service.duration | duration: "m": "m"}}</td>
                </ng-container>
                <ng-container matColumnDef="price">
                  <th mat-header-cell *matHeaderCellDef>
                    <span class="font-bold">
                      Prix
                    </span>
                  </th>
                  <td mat-cell *matCellDef="let details">{{details.service.price | number: "4.0-0"}} MGA</td>
                </ng-container>
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>


            </div>
          </div>

          <div class="mb-3">
            <button  *ngIf="appointment.status === EApointmentStatus.VALIDATED" class="pink-button me-4">Payer</button>
              <button class="btn btn-light">
                  Annuler ma demande
              </button>
          </div>

        </div>
      </div>
  </section>
</main>